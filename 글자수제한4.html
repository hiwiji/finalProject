<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <h3>동적으로 글자 수 세기</h3>
<div>
    <p><span id="counter">0</span>/50</p>
    <div id="inputcontent" contenteditable="true">e</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $("#inputcontent").on("input", function () {
            var inputText = $(this).text().trim();
            var charCount = inputText.length;
            
            if (charCount <= 30) {
                $("#counter").css("color", "black");
            } else if (charCount <= 49) {
                $("#counter").css("color", "orange");
            } else {
                $("#counter").css("color", "red");
                inputText = inputText.substr(0, 50);
                $(this).text(inputText);
                charCount = 50;
            }
            
            $("#counter").text(charCount);
        });
        
        $("#inputcontent").on("paste", function (e) {
            e.preventDefault();
            var pastedText = (e.originalEvent || e).clipboardData.getData("text/plain").trim();
            var currentText = $(this).text().trim();
            var newText = currentText + pastedText;
            
            if (newText.length > 50) {
                alert("최대 50자까지 입력 가능합니다.");
                return;
            }
            
            $(this).text(newText);
            $("#counter").text(newText.length);
        });
    });
</script>



</body>
</html>